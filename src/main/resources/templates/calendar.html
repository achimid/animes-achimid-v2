<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Lista de Animes - Catalogo - Animes Achimid</title>

    <meta name="robots" content="max-image-preview:large">
    <meta name="googlebot" content="all">

    <meta name="description" content="Encontre informa√ß√µes e lan√ßamentos de animes no Animes Achimid">
    <meta name="keywords" content="Anime, Lan√ßamento, Temporada, Fansub, Gr√°tis">
    <meta property="og:title" content="Lista de Animes - Catalogo - Animes Achimid">
    <meta property="og:description" content="Encontre informa√ß√µes e lan√ßamentos de animes no Animes Achimid">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:site_name" content="Animes Achimid" />

    <link rel="canonical" href="https://animes.achimid.com.br/animes" />

    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">

    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Righteous&family=Inter:wght@400;700&display=swap" rel="stylesheet">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-89V9QWJ1Q4"></script>
    <script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-89V9QWJ1Q4');</script>
    <meta name="google-site-verification" content="_TNQ2lXCMgZqsSzlzOXC2PbzOrWopVSYFHmUBen1Q6c" />

    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/common.css}" />

    <style>
        /* --- FILTRO DE DIAS (CHIPS) --- */
        .day-filter {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            overflow-x: auto;
            padding: 5px 2px;
        }

        .chip {
            background: #151515;
            border: 1px solid #333;
            color: var(--text-gray);
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: 0.3s;
            font-weight: 600;
            white-space: nowrap;
        }

        .chip.active {
            background: var(--primary-green);
            color: #000;
            border-color: var(--primary-green);
            box-shadow: 0 4px 12px rgba(46, 248, 97, 0.2);
        }

        /* --- ITEM DA LISTA --- */
        .list-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .list-item {
            display: flex;
            align-items: center;
            background: var(--bg-card);
            border: 1px solid #222;
            border-radius: 12px;
            padding: 12px;
            text-decoration: none;
            transition: 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
        }

        .list-item:hover {
            border-color: var(--primary-green);
            transform: translateX(10px);
            background: #1a1a1a;
        }

        /* Imagem lateral */
        .list-img {
            width: 80px;
            height: 110px;
            border-radius: 8px;
            object-fit: cover;
            margin-right: 20px;
            border: 1px solid #333;
        }

        /* Conte√∫do central */
        .list-content {
            flex: 1;
        }

        .list-time {
            display: inline-block;
            color: var(--primary-green);
            font-family: var(--font-righteous);
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .list-title {
            display: block;
            color: var(--text-white);
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .list-tags {
            display: flex;
            gap: 8px;
        }

        .tag-epi {
            font-size: 0.7rem;
            background: #222;
            color: var(--accent-orange);
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 800;
            text-transform: uppercase;
        }

        /* Seta lateral indicativa */
        .list-arrow {
            color: #444;
            font-size: 1.5rem;
            padding: 0 10px;
        }

        .list-item:hover .list-arrow {
            color: var(--primary-green);
        }

        /* Mobile */
        @media (max-width: 500px) {
            .list-img { width: 60px; height: 85px; margin-right: 15px; }
            .list-time { font-size: 1rem; }
            .list-title { font-size: 0.95rem; }
        }

        /* --- CONTAINER CENTRALIZADOR --- */
        .calendar-centralized-wrapper {
            max-width: 800px; /* Largura ideal para leitura de listas */
            margin: 0 auto;   /* Centraliza horizontalmente */
            padding: 20px 0;
        }

        /* --- FILTRO DE DIAS (CHIPS CENTRALIZADOS) --- */
        .day-filter {
            display: flex;
            justify-content: center; /* Centraliza os bot√µes de dias */
            gap: 8px;
            margin-bottom: 30px;
            flex-wrap: wrap; /* Permite quebrar linha em telas pequenas */
        }

        .chip {
            background: #111;
            border: 1px solid #222;
            color: var(--text-gray);
            padding: 10px 18px;
            border-radius: 30px;
            cursor: pointer;
            transition: 0.3s;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .chip.active {
            background: var(--primary-green);
            color: #000;
            border-color: var(--primary-green);
            box-shadow: 0 0 15px rgba(46, 248, 97, 0.3);
        }

        /* --- LISTA DE ITENS --- */
        .list-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .list-item {
            display: flex;
            align-items: center;
            background: #0d0d0d;
            border: 1px solid #1a1a1a;
            border-radius: 12px;
            padding: 10px 15px;
            text-decoration: none;
            transition: 0.2s ease-in-out;
        }

        .list-item:hover {
            border-color: var(--primary-green);
            background: #121212;
            transform: scale(1.02); /* Leve zoom em vez de mover para o lado */
        }

        .list-img {
            width: 55px;
            height: 75px;
            border-radius: 6px;
            object-fit: cover;
            margin-right: 15px;
        }

        .list-content {
            flex: 1;
        }

        .list-time {
            color: var(--primary-green);
            font-family: var(--font-righteous);
            font-size: 1rem;
            display: block;
        }

        .list-title {
            color: var(--text-white);
            font-weight: 700;
            font-size: 0.95rem;
        }

        .tag-epi {
            font-size: 0.65rem;
            color: var(--accent-orange);
            text-transform: uppercase;
            font-weight: 800;
        }

        /* Responsividade */
        @media (max-width: 600px) {
            .calendar-centralized-wrapper {
                padding: 10px 5%;
            }
            .day-filter {
                justify-content: flex-start; /* No mobile, volta para o in√≠cio para scroll */
                overflow-x: auto;
                flex-wrap: nowrap;
            }
        }

        /* --- CABE√áALHO DA P√ÅGINA DE CALEND√ÅRIO --- */
        .calendar-centralized-wrapper .section-header {
            text-align: center;      /* Centraliza o texto e elementos filhos */
            margin-bottom: 40px;     /* Espa√ßo generoso abaixo do t√≠tulo */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .calendar-centralized-wrapper .section-title {
            display: inline-block;
            font-size: 2rem;
            color: var(--text-white);
            padding-bottom: 15px;    /* Espa√ßo entre o texto e a borda */
            border-bottom: 4px solid var(--primary-green); /* Borda mais grossa e verde */
            margin-bottom: 10px;
            text-transform: uppercase;
            font-family: var(--font-righteous); /* Mantendo o padr√£o Achimid */
        }

        /* --- ITEM DA LISTA AMPLIADO --- */
        .list-item {
            display: flex;
            align-items: stretch; /* Estica a imagem e o conte√∫do igualmente */
            background: #0d0d0d;
            border: 1px solid #1a1a1a;
            border-radius: 12px;
            padding: 15px;
            text-decoration: none;
            transition: 0.2s ease-in-out;
            margin-bottom: 10px;
        }

        .list-item:hover {
            border-color: var(--primary-green);
            background: #121212;
            transform: scale(1.01);
        }

        .list-img {
            width: 100px; /* Tamanho aumentado */
            height: 140px; /* Propor√ß√£o mantida */
            border-radius: 8px;
            object-fit: cover;
            margin-right: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        .list-content {
            display: flex;
            flex-direction: column;
            justify-content: center; /* Centraliza as infos verticalmente ao lado da foto */
            flex: 1;
        }

        .list-time {
            color: var(--primary-green);
            font-family: var(--font-righteous);
            font-size: 1.2rem;
            margin-bottom: 2px;
        }

        .list-title {
            color: var(--text-white);
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        /* Novas Informa√ß√µes */
        .list-meta {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 8px;
        }

        .list-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag-epi {
            font-size: 0.65rem;
            background: rgba(255, 102, 0, 0.1);
            color: var(--accent-orange);
            padding: 4px 10px;
            border-radius: 4px;
            font-weight: 800;
            border: 1px solid rgba(255, 102, 0, 0.2);
        }

        .tag-genre {
            font-size: 0.65rem;
            background: #222;
            color: #ccc;
            padding: 4px 10px;
            border-radius: 4px;
        }
    </style>

</head>
<body>

    <header th:replace="~{fragments/layout :: header}"></header>

    <div class="main-wrapper">
        <main class="content-area">
            <div class="calendar-centralized-wrapper">
                <div class="section-header">
                    <h2 class="section-title">üìÖ Agenda da Semana</h2>
                </div>

                <div class="day-filter">
                    <button class="chip active" data-day="6">Dom</button>
                    <button class="chip" data-day="0">Seg</button>
                    <button class="chip" data-day="1">Ter</button>
                    <button class="chip" data-day="2">Qua</button>
                    <button class="chip" data-day="3">Qui</button>
                    <button class="chip" data-day="4">Sex</button>
                    <button class="chip" data-day="5">S√°b</button>
                </div>

                <div class="list-container" id="scheduleList">
                </div>
            </div>
        </main>
    </div>

    <footer th:replace="~{fragments/layout :: footer}"></footer>

    <script type="text/javascript" th:src="@{/js/common.js}"></script>

    <script>

        function renderDay(day) {
            fetch(`/api/v1/calendar?dayIndex=${day}`).then(res => res.json()).then(results => {
                console.log(results)

                const container = document.getElementById('scheduleList');

                container.style.opacity = "0";
                container.innerHTML = "";

                if (results.length === 0) {
                    container.innerHTML = `
                <div style="text-align:center; padding:60px 20px; color:#555;">
                    <p style="font-size: 1.2rem;">Sem lan√ßamentos previstos para este dia.</p>
                </div>`
                } else {
                    results.forEach(item => {
                        container.innerHTML += `
                    <a href="/anime/${item.anime.slug}" class="list-item">
                        <img src="${item.imageUrl}" class="list-img" alt="${item.title}">
                        <div class="list-content">
                            <span class="list-time">${item.time}</span>
                            <span class="list-title">${item.title}</span>
                            <div class="list-meta">
                                <span> ‚Ä¢ ${item.anime.tags.join(', ')}</span><span></span>
                            </div>
                            <div class="list-tags">
                                <span class="tag-epi">Novo Epis√≥dio</span>
                                <span class="tag-genre">${item.anime.status}</span>
                            </div>
                        </div>
                        <div class="list-arrow">‚Ä∫</div>
                    </a>
                `;
                    });
                }
                container.style.opacity = "1";
            })
        }

        /**
         * Inicializa√ß√£o dos eventos
         */
        document.addEventListener("DOMContentLoaded", () => {
            // Configura os cliques nos chips de dias
            const chips = document.querySelectorAll('.chip');
            chips.forEach(btn => {
                btn.addEventListener('click', function() {
                    chips.forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    renderDay(this.dataset.day)
                });
            });

            const today = new Date().getDay()-1;
            const activeChip = document.querySelector(`.chip[data-day="${today}"]`);
            if (activeChip) {
                activeChip.click();
            }
        });
    </script>
</body>
</html>